<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Calculadora de Venda de Medicamentos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --overlay: rgba(0,0,0,0.6);
      --overlay-soft: rgba(0,0,0,0.5);
      --overlay-card: rgba(0,0,0,0.6);
      --radius: 12px;
      --gap: 16px;
      --red: #f70707;
      --red-dark: #3a0101;
      --text: #fff;
    }

    *{ box-sizing: border-box; }

    html, body{
      height:100%;
      margin:0;
    }

    body{
      font-family: Arial, sans-serif;
      color: var(--text);
      background-image: url("fundo.png");
      background-size: cover;
      background-position: center top;
      background-repeat: no-repeat;
      min-height:100vh;
      display:flex;
      flex-direction:column;
    }

    .container{
      width: min(1100px, 94%);
      margin: 20px auto 10px;
      display:flex;
      flex-direction:column;
      gap: 20px;
      flex:1;
    }

    h1{
      text-align:center;
      margin: 0;
      font-size: clamp(20px, 3.5vw, 28px);
      background-color: var(--overlay);
      padding: 10px 18px;
      border-radius: var(--radius);
    }

    /* Card topo (dados principais) */
    .topo{
      background-color: var(--overlay-soft);
      border-radius: var(--radius);
      padding: 16px;
      width: 100%;
    }

    .topo label{
      display:block;
      font-weight:700;
      margin-top: 10px;
      font-size: clamp(14px, 2.5vw, 16px);
    }

    .topo input{
      width: 100%;
      padding: 10px 12px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.12);
      color: #fff;
      outline: none;
    }

    .botoes{
      display:flex;
      gap: 12px;
      justify-content: flex-start;
      margin-top: 14px;
      flex-wrap: wrap;
    }

    button{
      padding: 10px 12px;
      font-weight: 700;
      cursor: pointer;
      border: none;
      border-radius: 8px;
      background-color: var(--red);
      color: white;
      min-width: 180px;
      transition: background-color .2s ease, transform .05s ease;
      touch-action: manipulation;
    }
    button:hover{ background-color: var(--red-dark); }
    button:active{ transform: translateY(1px); }

    /* Conteúdo principal: medicamentos + extrato */
    .conteudo{
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      width: 100%;
    }

    .medicamentos, .extrato{
      background-color: var(--overlay-card);
      border-radius: var(--radius);
      padding: 16px;
      min-width: 0;
    }

    .medicamentos h3, .extrato h2{
      margin: 0 0 12px;
      font-size: clamp(18px, 3vw, 22px);
    }

    /* Linha de medicamento em grid (nome / qtd / valor) */
    .linhas{
      display: grid;
      gap: 10px;
    }

    .linha-medicamento{
      display: grid;
      grid-template-columns: 1fr 90px 120px;
      align-items: center;
      gap: 10px;
      background: rgba(255,255,255,0.08);
      padding: 10px;
      border-radius: 10px;
    }

    .linha-medicamento label{
      font-weight: 700;
    }

    .linha-medicamento input[type="number"]{
      width: 100%;
      padding: 8px 10px;
      font-size: 16px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.25);
      background: rgba(255,255,255,0.12);
      color:#fff;
      outline: none;
      -moz-appearance: textfield;
    }
    /* remove setinhas do number no Chrome/Safari */
    .linha-medicamento input[type=number]::-webkit-outer-spin-button,
    .linha-medicamento input[type=number]::-webkit-inner-spin-button{
      -webkit-appearance: none; margin:0;
    }

    .extrato p{ margin: 6px 0; }
    .extrato hr{ border: none; border-top: 1px solid rgba(255,255,255,0.25); margin: 10px 0; }

    .rodape{
      color: white;
      font-size: 12px;
      background-color: rgba(0,0,0,0.35);
      padding: 6px 10px;
      border-radius: 6px;
      text-align: right;
      width: min(1100px, 94%);
      margin: 10px auto 16px;
    }

    /* ===== Responsivo ===== */
    @media (max-width: 1024px){
      .conteudo{ grid-template-columns: 1fr; }
    }

    @media (max-width: 640px){
      .linha-medicamento{
        grid-template-columns: 1fr 1fr;
        grid-template-areas:
          "nome nome"
          "qtd valor";
      }
      .linha-medicamento label{ grid-area: nome; }
      .linha-medicamento input[placeholder="Qtd"]{ grid-area: qtd; }
      .linha-medicamento input[placeholder="Valor"]{ grid-area: valor; }

      .botoes{ flex-direction: column; }
      button{ width: 100%; min-width: 0; }
    }
  </style>
</head>
<body>

  <div class="container">

    <h1>Calculadora de Venda de Medicamentos</h1>

    <div class="topo">
      <label for="fac">Nome da FAC/ORG:</label>
      <input type="text" id="fac" oninput="atualizarExtrato()" placeholder="Ex.: Hospital Norte" />

      <label for="cliente">Nome do Cliente:</label>
      <input type="text" id="cliente" oninput="atualizarExtrato()" placeholder="Ex.: João Silva" />

      <label for="passaporte">Passaporte do Cliente:</label>
      <input type="text" id="passaporte" oninput="atualizarExtrato()" placeholder="Ex.: 123456" />

      <div class="botoes">
        <button onclick="limparPrincipais()">Limpar Informações Principais</button>
        <button onclick="limparExtrato()">Limpar Extrato</button>
      </div>
    </div>

    <div class="conteudo">
      <div class="medicamentos">
        <h3>Medicamentos</h3>
        <div class="linhas">
          <div class="linha-medicamento">
            <label>Adrenalina</label>
            <input type="number" placeholder="Qtd" id="qtd_adrenalina" oninput="atualizarExtrato()" min="0" inputmode="numeric" />
            <input type="number" placeholder="Valor" id="val_adrenalina" oninput="atualizarExtrato()" min="0" step="0.01" inputmode="decimal" />
          </div>

          <div class="linha-medicamento">
            <label>Kit Médico</label>
            <input type="number" placeholder="Qtd" id="qtd_kit" oninput="atualizarExtrato()" min="0" inputmode="numeric" />
            <input type="number" placeholder="Valor" id="val_kit" oninput="atualizarExtrato()" min="0" step="0.01" inputmode="decimal" />
          </div>

          <div class="linha-medicamento">
            <label>Bandagem</label>
            <input type="number" placeholder="Qtd" id="qtd_bandagem" oninput="atualizarExtrato()" min="0" inputmode="numeric" />
            <input type="number" placeholder="Valor" id="val_bandagem" oninput="atualizarExtrato()" min="0" step="0.01" inputmode="decimal" />
          </div>
        </div>
      </div>

      <div class="extrato" id="extrato">
        <h2>Extrato</h2>
        <p><strong>FAC/ORG:</strong> <span id="out_fac"></span></p>
        <p><strong>Cliente:</strong> <span id="out_cliente"></span></p>
        <p><strong>Passaporte:</strong> <span id="out_passaporte"></span></p>
        <hr>
        <div id="medicamentos_resumo"></div>
        <hr>
        <p><strong>Valor Total:</strong> R$ <span id="total"></span></p>
        <p><strong>Depósito (50%):</strong> R$ <span id="deposito"></span></p>
      </div>
    </div>
  </div>

  <script>
    const formatarBRL = (valor) =>
      valor.toLocaleString('pt-BR', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

    function atualizarExtrato() {
      document.getElementById("out_fac").textContent = document.getElementById("fac").value;
      document.getElementById("out_cliente").textContent = document.getElementById("cliente").value;
      document.getElementById("out_passaporte").textContent = document.getElementById("passaporte").value;

      const medicamentos = [
        { nome: 'Adrenalina', qtd: +document.getElementById("qtd_adrenalina").value || 0, val: +document.getElementById("val_adrenalina").value || 0 },
        { nome: 'Kit Médico', qtd: +document.getElementById("qtd_kit").value || 0, val: +document.getElementById("val_kit").value || 0 },
        { nome: 'Bandagem',  qtd: +document.getElementById("qtd_bandagem").value  || 0, val: +document.getElementById("val_bandagem").value  || 0 },
      ];

      let total = 0;
      let resumoHTML = '';

      medicamentos.forEach(med => {
        if (med.qtd > 0 && med.val > 0) {
          const subtotal = med.qtd * med.val;
          total += subtotal;
          resumoHTML += `<p>${med.nome} — Qtd: ${med.qtd} × R$${formatarBRL(med.val)} = <strong>R$${formatarBRL(subtotal)}</strong></p>`;
        }
      });

      document.getElementById("medicamentos_resumo").innerHTML = resumoHTML || "<p>Nenhum medicamento preenchido.</p>";
      document.getElementById("total").textContent = formatarBRL(total);
      document.getElementById("deposito").textContent = formatarBRL(total / 2);
    }

    function limparPrincipais() {
      document.getElementById("fac").value = '';
      document.getElementById("cliente").value = '';
      document.getElementById("passaporte").value = '';
      atualizarExtrato();
    }

    function limparExtrato() {
      ["qtd_adrenalina","val_adrenalina","qtd_kit","val_kit","qtd_bandagem","val_bandagem"].forEach(id=>{
        document.getElementById(id).value = '';
      });
      atualizarExtrato();
    }
  </script>

  <footer class="rodape">
    © 2025 Bombeiros Cidade Universo — Criado por Guilherme R⚡
  </footer>
</body>
</html>
